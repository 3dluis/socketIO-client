+ Fix unittests
+ Fix exceptions when websocket server disappears

Fix thread exceptions

Integrate Zac's fork #6
Integrate Sajal's fork #7
Integrate Francis's fork #10
Investigate issue #8
Integrate Paul's fork
